@using umbraco_clean_demo.Domain.Entities


@model MigrateModel

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">


<div class="container form-container">
	<h2 class="text-center">Database Migration</h2>
	<form id="formMigrate" role="form">
		@Html.AntiForgeryToken()
		<div class="mb-3">
			<label for="ServerName" class="form-label">Server Name:</label>
			<input type="text"
				   class="form-control"
				   asp-for="ServerName" />
			<span asp-validation-for="ServerName" class="text-danger"></span>
		</div>
		<div class="mb-3">
			<label for="DatabaseName" class="form-label">Database Name:</label>
			<input type="text"
				   class="form-control"
				   asp-for="DatabaseName" />
			<span asp-validation-for="DatabaseName" class="text-danger"></span>
		</div>
		<div class="mb-3">
			<label for="DBUserName" class="form-label">User Name:</label>
			<input type="text"
				   class="form-control"
				   asp-for="DBUserName" />
			<span asp-validation-for="DBUserName" class="text-danger"></span>
		</div>
		<div class="mb-3">
			<label for="DBPassword" class="form-label">Password:</label>
			<input type="password"
				   class="form-control"
				   asp-for="DBPassword" />
			<span asp-validation-for="DBPassword" class="text-danger"></span>
		</div>
		<div class="mb-3">
			<label for="MigrateType" class="form-label">Migrate Type:</label>
			<select class="form-select"
					asp-for="SelectedMigrateType"
					asp-items="@(new SelectList (ViewBag.listMigrate, "Value", "Text"))">
				<option value="">-- Select Migrate Type --</option>
			</select>
			<span asp-validation-for="SelectedMigrateType" class="text-danger"></span>
		</div>
		<div class="text-center">
			<button id="btnMigrate" class="btn btn-primary w-100" type="button" onclick="Migrate()">Migrate</button>
			<button id="btnSpin" class="btn btn-primary w-100" type="button" disabled style="display:none">
				<span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
				Now Loading...
			</button>
		</div>
	</form>
	<div class="text-center mt-3 mb-3">
		<button class="btn btn-secondary w-100">
			<a href="/TH/Migrate.Data" target="_self" class="text-white">Back Migrate</a>
		</button>
	</div>
</div>


@{
	await Html.RenderPartialAsync("_Script");
}
